<html lang="en">

<head>
    <script src="https://3p-ot-token-test.glitch.me/main.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<title>Acquisition Info API Testing</title>

<body>
    <a href="index.html">Go back to landing page</a>
    <div class="container">
        <h2>Acquisition Info API Testing</h2>
        <p>This PWA's campaign ID is: <span id="campaign-id"></span></p>
        <button onclick="getCampaignId()">Get Campaign ID</button>
    </div>
</body>

</html>

<script>
    async function getCampaignId() {
        const details = await navigator.acquisitionInfoProvider.getDetails();
        if (details.campaignId === "") {
            document.getElementById("campaign-id").textContent = "No campaign ID associated with this app";
        } else if (details.campaignId === null) {
            document.getElementById("campaign-id").textContent = "Error retrieving campaign ID, check console for details.";
        } else {
            document.getElementById("campaign-id").textContent = details.campaignId;
        }
    }
</script>